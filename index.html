<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Secure PIN Locker</title>
  <style>
    /* ==== Base Reset ==== */
    * {margin:0;padding:0;box-sizing:border-box;}
    body {
      font-family:'Segoe UI',sans-serif;
      height:100vh;
      background:linear-gradient(-45deg,#1e3c72,#2a5298,#00c6ff,#0072ff);
      background-size:400% 400%;
      animation:gradientShift 12s ease infinite;
      display:flex;justify-content:center;align-items:center;
      overflow:hidden;
    }
    @keyframes gradientShift {
      0%{background-position:0% 50%}
      50%{background-position:100% 50%}
      100%{background-position:0% 50%}
    }
    :root {
      --accent:#4dd0e1;
      --accent-2:#81d4fa;
      --danger:#e57373;
      --success:#81c784;
    }
    /* ==== Locker Container ==== */
    .container {
      background:rgba(255,255,255,0.1);
      backdrop-filter:blur(20px);
      border-radius:20px;
      box-shadow:0 22px 80px rgba(2,6,23,0.6);
      width:320px;max-width:90%;
      padding:2rem;
      text-align:center;
      color:white;
      transition:all .3s ease;
    }
    .container:hover {
      transform:translateY(-3px);
      box-shadow:0 28px 90px rgba(2,6,23,0.75);
    }
    h1 {
      font-size:1.4rem;
      margin-bottom:1rem;
      text-transform:uppercase;
      letter-spacing:2px;
      color:var(--accent-2);
    }
    .locker-icon {
      width:60px;height:60px;
      margin:0 auto 1.2rem;
      border-radius:50%;
      border:3px solid var(--accent);
      position:relative;
      animation:float 3s ease-in-out infinite, pulse 4s infinite;
    }
    .locker-icon::after {
      content:"ðŸ”’";
      font-size:28px;
      position:absolute;top:50%;left:50%;
      transform:translate(-50%,-50%);
    }
    @keyframes float {0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}
    @keyframes pulse {
      0%,100%{box-shadow:inset 0 -8px 30px rgba(0,0,0,0.35);}
      50%{box-shadow:inset 0 -8px 40px rgba(77,208,225,0.3);}
    }
    /* ==== PIN display ==== */
    .pin-display {
      display:flex;justify-content:center;margin-bottom:1rem;
    }
    .dot {
      width:14px;height:14px;
      border-radius:50%;
      border:2px solid var(--accent-2);
      margin:0 6px;
      transition:all .2s;
    }
    .dot.filled {background:var(--accent-2);}
    .dot.error {border-color:var(--danger);background:var(--danger);}
    /* ==== Keypad ==== */
    .keypad {
      display:grid;
      grid-template-columns:repeat(3,1fr);
      gap:14px;
    }
    .key {
      background:rgba(255,255,255,0.12);
      border:none;
      border-radius:14px;
      font-size:1.2rem;
      padding:16px;
      cursor:pointer;
      color:white;
      transition:all .2s;
      user-select:none;
    }
    .key:hover {
      box-shadow:0 0 18px var(--accent-2);
      transform:scale(1.05);
    }
    .key:active {
      transform:scale(0.95);
      box-shadow:0 0 12px var(--accent-2),0 0 20px var(--accent);
    }
    .key.special {font-size:.9rem;background:rgba(255,255,255,0.08);}
    .message {margin-top:1rem;font-size:.9rem;height:1.2rem;}
    .error-msg {color:var(--danger);}
    .success-msg {color:var(--success);}
    /* ==== Success screen ==== */
    .success-card {
      display:none;
      flex-direction:column;
      justify-content:center;
      align-items:center;
      background:rgba(255,255,255,0.1);
      backdrop-filter:blur(20px);
      border-radius:20px;
      padding:2rem;
      width:320px;
      text-align:center;
      animation:popIn .6s ease forwards, successGlow 3s infinite;
    }
    .success-card h2 {color:var(--success);margin-top:1rem;}
    .success-card p {margin-top:.5rem;color:#eee;}
    @keyframes popIn {from{transform:scale(0.5);opacity:0}to{transform:scale(1);opacity:1}}
    @keyframes successGlow {
      0%,100%{box-shadow:0 22px 80px rgba(2,6,23,0.6),0 0 12px var(--success);}
      50%{box-shadow:0 22px 80px rgba(2,6,23,0.6),0 0 28px var(--success);}
    }
    /* Shake error */
    .shake {animation:shake .4s;}
    @keyframes shake {
      0%,100%{transform:translateX(0);}
      20%{transform:translateX(-10px);}
      40%{transform:translateX(10px);}
      60%{transform:translateX(-10px);}
      80%{transform:translateX(10px);}
    }
  </style>
</head>
<body>
  <div class="container" id="lockerCard">
    <div class="locker-icon"></div>
    <h1>Enter PIN</h1>
    <div class="pin-display" id="pinDisplay" aria-label="PIN input" role="group"></div>
    <div class="keypad" id="keypad"></div>
    <div class="message" id="message" aria-live="polite"></div>
  </div>

  <div class="success-card" id="success">
    <div style="font-size:3rem;">âœ…</div>
    <h2>Access Granted</h2>
    <p>Welcome, Admin!</p>
  </div>

  <!-- Tick sound -->
  <audio id="tickSound" src="https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3" preload="auto"></audio>

  <script>
    const PIN="018421456";
    const MAXLEN=PIN.length;
    let input="";
    const keypad=document.getElementById('keypad');
    const pinDisplay=document.getElementById('pinDisplay');
    const message=document.getElementById('message');
    const card=document.getElementById('lockerCard');
    const success=document.getElementById('success');
    const tick=document.getElementById('tickSound');

    function playTick(){ tick.currentTime=0; tick.play(); }

    // Build placeholder dots
    for(let i=0;i<MAXLEN;i++){
      let d=document.createElement('div');
      d.className='dot';
      pinDisplay.appendChild(d);
    }

    function updateDisplay(){
      document.querySelectorAll('.dot').forEach((dot,i)=>{
        dot.classList.toggle('filled',i<input.length);
      });
    }
    function appendDigit(d){
      if(input.length>=MAXLEN) return;
      input+=d; updateDisplay(); playTick();
      if(input.length===MAXLEN){checkPin();}
    }
    function backspace(){
      input=input.slice(0,-1);
      updateDisplay(); playTick();
    }
    function clearAll(){
      input=""; updateDisplay(); playTick();
    }
    function shuffle(arr){
      for(let i=arr.length-1;i>0;i--){
        let j=Math.floor(Math.random()*(i+1));
        [arr[i],arr[j]]=[arr[j],arr[i]];
      }
      return arr;
    }
    function buildKeys(){
      keypad.innerHTML="";
      let nums=shuffle([...Array(10).keys()]);
      nums.forEach(n=>{
        let btn=document.createElement('button');
        btn.className='key'; btn.textContent=n;
        btn.onclick=()=>appendDigit(n);
        keypad.appendChild(btn);
      });
      let clr=document.createElement('button');
      clr.className='key special'; clr.textContent='Clear';
      clr.onclick=clearAll;
      keypad.appendChild(clr);
      let back=document.createElement('button');
      back.className='key special'; back.textContent='âŒ«';
      back.onclick=backspace;
      keypad.appendChild(back);
      let shuf=document.createElement('button');
      shuf.className='key special'; shuf.textContent='Shuffle';
      shuf.onclick=()=>buildKeys();
      keypad.appendChild(shuf);
    }
    buildKeys();

    function checkPin(){
      if(input===PIN){
        message.textContent="âœ” Correct PIN"; message.className='message success-msg';
        setTimeout(showSuccess,500);
      }else{
        message.textContent="âœ– Wrong PIN"; message.className='message error-msg';
        pinDisplay.classList.add('shake');
        document.querySelectorAll('.dot').forEach(d=>d.classList.add('error'));
        setTimeout(()=>{
          pinDisplay.classList.remove('shake');
          document.querySelectorAll('.dot').forEach(d=>d.classList.remove('error'));
          clearAll();
        },600);
      }
    }
    function showSuccess(){
      card.style.display='none';
      success.style.display='flex';
    }

    // Disable keyboard input
    window.addEventListener('keydown',e=>{if(!["Tab"].includes(e.key)) e.preventDefault();});
    window.addEventListener('paste',e=>e.preventDefault());
  </script>
</body>
</html>
