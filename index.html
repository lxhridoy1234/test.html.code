<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SH Community</title>
<style>
body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #0f2027, #203a43, #2c5364); color:#fff; display:flex; flex-direction:column; align-items:center; margin:0; min-height:100vh;}
.title { font-size:2.5em; margin:30px 0; letter-spacing:2px; animation:glow 1.5s infinite alternate; text-align:center;}
@keyframes glow { from {text-shadow:0 0 10px #00fff0,0 0 20px #00fff0;} to {text-shadow:0 0 20px #00fff0,0 0 30px #00fff0;} }
.user-card { background:rgba(255,255,255,0.05); border-radius:20px; padding:25px 20px; display:flex; justify-content:center; align-items:center; width:250px; box-shadow:0 0 15px rgba(0,255,240,0.3); backdrop-filter:blur(10px); margin-bottom:40px; font-size:1.3em;}
.circle-card-container { display:flex; justify-content:center; align-items:center; margin-bottom:40px; flex-direction:column;}
.circle-card { width:150px; height:150px; background:#00fff0; border-radius:50%; display:flex; justify-content:center; align-items:center; box-shadow:0 0 20px #00fff0; position:relative;}
.circle-card button { background:#1e1e2f; border:none; padding:12px 25px; border-radius:25px; cursor:pointer; font-weight:bold; color:#00fff0; font-size:1.1em; transition:background 0.3s, transform 0.3s; }
.circle-card button:hover { background:#00fff0; color:#1e1e2f; transform:scale(1.1);}
#countdown { position:absolute; top:-30px; font-size:1em; font-weight:bold; color:#fff;}
.bottom-card { background:rgba(255,255,255,0.05); border-radius:20px; padding:20px; display:flex; gap:20px; width:320px; justify-content:space-between; box-shadow:0 0 15px rgba(0,255,240,0.3); backdrop-filter:blur(10px);}
.bottom-card button { flex:1; padding:12px 0; border:none; border-radius:15px; cursor:pointer; font-weight:bold; color:#1e1e2f; background:#00fff0; transition:background 0.3s, transform 0.3s;}
.bottom-card button:hover { background:#1e1e2f; color:#00fff0; transform:scale(1.05);}
.modal { display:none; position:fixed; z-index:100; left:0; top:0; width:100%; height:100%; background-color:rgba(0,0,0,0.7); justify-content:center; align-items:center;}
.modal-content { background:#1e1e2f; padding:25px; border-radius:20px; width:320px; box-shadow:0 0 20px #00fff0;}
.modal-content h3 { text-align:center; margin-top:0;}
.modal-content input, .modal-content select { width:100%; margin:8px 0; padding:10px; border-radius:15px; border:none; font-size:1em;}
.modal-content button { margin-top:15px; width:100%; padding:12px; border-radius:15px; background:#00fff0; border:none; cursor:pointer; font-weight:bold; color:#1e1e2f; font-size:1em;}
.modal-content button:hover { background:#1e1e2f; color:#00fff0; transform:scale(1.05);}
.close, .close-invite { float:right; font-size:22px; cursor:pointer; color:#00fff0;}
input:focus, select:focus { outline:none; box-shadow:0 0 5px #00fff0; background:rgba(0,255,240,0.08);}
@media(max-width:400px){ .user-card, .bottom-card, .modal-content{ width:90%; } }
</style>
</head>
<body>

<h1 class="title">SH Community</h1>

<div class="user-card">
  <p id="balance">Balance: ৳0.00</p>
</div>

<div class="circle-card-container">
  <div class="circle-card">
    <div id="countdown">10s</div>
    <button id="start-btn">Start</button>
  </div>
</div>

<div class="bottom-card">
  <button id="telegram-btn">Telegram</button>
  <button id="invite-btn">Invite</button>
  <button id="withdraw-btn">Withdraw</button>
</div>

<!-- Withdraw Modal -->
<div id="withdraw-modal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h3>Withdraw</h3>
    <label>Method:</label>
    <select id="method">
      <option value="bKash">bKash</option>
      <option value="Nagad">Nagad</option>
      <option value="Account">Account</option>
    </select>
    <input type="text" id="amount" placeholder="Amount">
    <input type="text" id="account" placeholder="Account Number/Name">
    <button id="withdraw-submit">Submit</button>
  </div>
</div>

<!-- Invite Modal -->
<div id="invite-modal" class="modal">
  <div class="modal-content">
    <span class="close-invite">&times;</span>
    <h3>Your Referral Link</h3>
    <input type="text" id="ref-link" readonly value="">
    <button id="copy-ref">Copy</button>
  </div>
</div>

<!-- Sounds -->
<audio id="coin-sound"><source src="https://www.soundjay.com/coin/sounds/coin-drop-1.mp3" type="audio/mpeg"></audio>
<audio id="tick-sound"><source src="https://www.soundjay.com/button/sounds/beep-07.mp3" type="audio/mpeg"></audio>

<script>
// Balance
let balance = parseFloat(localStorage.getItem('userBalance')) || 0;
document.getElementById('balance').textContent = `Balance: ৳${balance.toFixed(2)}`;

let interval = null;
let countdown = 10;
const balanceEl = document.getElementById('balance');
const startBtn = document.getElementById('start-btn');
const countdownEl = document.getElementById('countdown');
const coinSound = document.getElementById('coin-sound');
const tickSound = document.getElementById('tick-sound');

function resetCountdown() { countdown = 10; countdownEl.textContent = `${countdown}s`; }
function startTimer() {
  interval = setInterval(()=>{
    countdown--;
    countdownEl.textContent = `${countdown}s`;
    if(countdown % 2 === 0) tickSound.play();
    if(countdown === 0){
      balance += 0.10;
      balanceEl.textContent = `Balance: ৳${balance.toFixed(2)}`;
      localStorage.setItem('userBalance', balance.toFixed(2));
      coinSound.play();
      resetCountdown();
    }
  },1000);
}
startBtn.addEventListener('click', ()=>{
  if(!interval){
    startBtn.textContent='Stop';
    resetCountdown();
    startTimer();
  } else {
    startBtn.textContent='Start';
    clearInterval(interval);
    interval=null;
  }
});

// Telegram Mini App - Generate Referral
const tg = window.Telegram?.WebApp;
function generateReferral(){
  let ref = "guest";
  if(tg?.initDataUnsafe?.user){
    const user = tg.initDataUnsafe.user;
    ref = user.username || user.id || "guest";
  }
  document.getElementById("ref-link").value = `https://t.me/ads25_income_bot?start=${ref}`;
}
generateReferral();

// Withdraw Modal
const withdrawModal = document.getElementById('withdraw-modal');
const closeModal = document.querySelector('.close');
document.getElementById('withdraw-btn').addEventListener('click', ()=>{
  if(balance < 500){
    alert("❌ Minimum Balance ৳500 required to withdraw.");
  } else withdrawModal.style.display='flex';
});
closeModal.onclick = ()=> withdrawModal.style.display='none';

document.getElementById('withdraw-submit').addEventListener('click', ()=>{
  const method=document.getElementById('method').value;
  const amount=document.getElementById('amount').value;
  const account=document.getElementById('account').value;
  if(parseFloat(amount)<500){ alert("❌ Minimum withdraw is ৳500"); return; }
  alert(`Withdraw Request Sent!\nMethod: ${method}\nAmount: ${amount}\nAccount: ${account}`);
  withdrawModal.style.display='none';
});

// Invite Modal
const inviteModal = document.getElementById('invite-modal');
const closeInvite = document.querySelector('.close-invite');
document.getElementById('invite-btn').addEventListener('click', ()=>{inviteModal.style.display='flex';});
closeInvite.onclick = ()=> inviteModal.style.display='none';

// Copy Referral
document.getElementById('copy-ref').addEventListener('click', ()=>{
  const refInput = document.getElementById('ref-link');
  refInput.select();
  refInput.setSelectionRange(0,99999);
  document.execCommand('copy');
  alert('Referral link copied!');
});

// Telegram button
document.getElementById('telegram-btn').addEventListener('click', ()=>{
  window.open('https://t.me/sh2025community','_blank');
});
</script>
</body>
</html>
